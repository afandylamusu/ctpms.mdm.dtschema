/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 12.0 		*/
/*  Created On : 16-Dec-2019 12:49:59 				*/
/*  DBMS       : PostgreSQL 						*/
/* ---------------------------------------------------- */

/* Drop Tables */

DROP TABLE IF EXISTS "organizations" CASCADE
;

DROP TABLE IF EXISTS "datasets" CASCADE
;

/* Create Tables */

CREATE TABLE "organizations"
(
	"id" uuid NOT NULL,
	"name" varchar(50)	 NOT NULL,
	"create_at" timestamp with time zone NULL,
	"update_at" timestamp with time zone NULL
)
;

CREATE TABLE "datasets"
(
	"id" uuid NOT NULL,
	"org_id" uuid NOT NULL,
	"name" varchar(50)	 NOT NULL,
	"update_at" timestamp with time zone NULL,
	"create_at" timestamp with time zone NULL
)
;

/* Create Primary Keys, Indexes, Uniques, Checks */

ALTER TABLE "organizations" ADD CONSTRAINT "PK_organizations"
	PRIMARY KEY ("id")
;

ALTER TABLE "datasets" ADD CONSTRAINT "PK_datasets"
	PRIMARY KEY ("id")
;

CREATE INDEX "IXFK_datasets_organizations" ON "datasets" ("org_id" ASC)
;

/* Create Foreign Key Constraints */

ALTER TABLE "datasets" ADD CONSTRAINT "FK_datasets_organizations"
	FOREIGN KEY ("org_id") REFERENCES "organizations" ("id") ON DELETE No Action ON UPDATE No Action
;
